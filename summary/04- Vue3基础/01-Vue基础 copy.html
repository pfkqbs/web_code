<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            width: 200px;
            height: 200px;
            background-color: red;
        }

        span.active {
            color: blueviolet;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- åœˆåœ°åŒºåŸŸ {{  }}æ’å€¼è¯­æ³• -->
        <h3>{{ title }}</h3>
        <h2>{{1+1}}</h2>
        <h2>{{1>0 ? 'true' :'false'}}</h2>


        <!-- vueä¸­æä¾›çš„æŒ‡ä»¤ -->
        <!-- 1.v-htmlå’Œv-text -->
        <div v-html="htmlStr"></div>
        <div v-text="htmlStr"></div>
        <hr>
        <!-- 2.å¦‚æœåœ¨é¡µé¢ä¸­å¯¹ç»„ä»¶æ˜¾ç¤ºå’Œéšè—  v-show v-if v-else-if v-else -->
        <!-- v-show åŸºäºcssæ ·å¼ display:none || block -->
        <!-- 3.ç»‘å®šå±æ€§å’Œæ–¹æ³• 
            ç»‘å®šå±æ€§ï¼šv-bind:title v-bind:hrefç­‰,  ç®€å†™ï¼š:titleï¼Œ:herf
            ç»‘å®šæ–¹æ³•ï¼šv-on:click v-on:mouseenterç­‰ç­‰ åŸç”Ÿçš„æ‰€æœ‰çš„äº‹ä»¶åéƒ½èƒ½ç»‘å®š, ç®€å†™ @click @mousweenter
        -->
        <button @click="handleClick">åˆ‡æ¢</button>
        <!-- <div class="box" v-show="isShow"></div> -->
        <div class="box" v-if="isShow"></div>

        <!-- 4.v-for keyä¸€èˆ¬éƒ½æ˜¯å”¯ä¸€æ€§çš„idï¼Œ ç»‘å®škey diffç®—æ³• å°±åœ°å¤ç”¨ä½œç”¨ 
        
            v-forå’Œv-if 
            ç‰ˆæœ¬vue2,v-forçš„ä¼˜å…ˆçº§å¤§äºv-if,å»ºè®®ä¸è¦v-forå’Œv-ifæŒ‡ä»¤åŒæ—¶ä½¿ç”¨
            ç‰ˆæœ¬vue3,v-ifçš„ä¼˜å…ˆçº§å¤§äºv-for,æ‰€ä»¥ä¸èƒ½åœ¨åŒä¸€ä¸ªæ ‡ç­¾ä¸‹ä½¿ç”¨v-forå’Œv-if


            v-forä¸ä»…å¯ä»¥å¤„ç†æ•°ç»„ï¼Œè¿˜å¯ä»¥å¤„ç†å¯¹è±¡
        -->
        <ul>
            <li v-for="(item,i) in filterMenus" :key="item.id" @click="changeActive(i)">
                <span :class="{active:i === currentIndex}">{{item.name}}</span>
            </li>
        </ul>
        <img v-bind:src="imgSrc">
        <hr>

        <!-- 5.è¡¨å•  input select radio textarea ç­‰   v-model åŒå‘æ•°æ®ç»‘å®šä½“ç°
        v-modelå…¶å®æ˜¯ï¼šv-bind:value å’Œv-on:inputçš„è¯­æ³•ç³–
        -->
        <!-- <input type="text" :value="msg" @input="handleInput"> -->
        <!-- lazy:<input type="text" v-model.lazy="msg"> -->
        number:<input type="text" v-model.number="msg">
        <h3>{{msg}}</h3>

        <!-- 6.watchå’Œcomputed -->
        <hr>
        <!-- å¦‚æœè¾“å…¥æ¡†ä¸­æœ‰å­—ç¬¦ä¸².,å°±å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œè·å–åˆ°æ•°ç»„ï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸‹
             å¦‚æœè¾“å…¥ç©ºå€¼æ—¶ï¼Œæ¸…é™¤answer
        -->
        <input type="text" v-model="myMsg">
        <h3>{{myMsg}}</h3>
        <p>{{answer}}</p>

        <!-- è®¡ç®—å±æ€§ é»˜è®¤æ˜¯åªæœ‰getteræ–¹æ³•ï¼Œå¦‚æœéœ€è¦ï¼Œåˆ™å¯ä»¥è®¾ç½®setteræ–¹æ³• -->
        <p v-for="item in evenNumbers" :key="item">{{item}}</p>
        <p>{{fullName}}</p>
        <button @click="handleUpdateName">æ›´æ”¹</button>
        <h3>{{reverseHtmlStr}}</h3>

        <!-- è‡ªå®šä¹‰æŒ‡ä»¤ -->
        <input type="text" v-focus>




    </div>
    <script src="./vue-3.2.31.js"></script>
    <script>
        console.log(Vue)
        // ç»„ä»¶ bootstrapç»„ä»¶
        // åˆ›å»ºæ ¹appç»„ä»¶å®ä¾‹
        // ç»„ä»¶å‘½å1.é¦–å­—æ¯å¤§å†™

        // æ•°æ®é©±åŠ¨è§†å›¾  MVVM

        // M: model (æ¨¡å‹ï¼Œå“åº”å¼æ•°æ®)
        // V: View ï¼ˆè§†å›¾ï¼Œæ¨¡æ¿æ ‡ç­¾æˆ–è€…ç»„ä»¶ï¼‰
        // VM:ViewModel (Vueæä¾›çš„æ–¹å¼ ä¿®æ”¹å“åº”å¼æ•°æ®åŒæ—¶æ›´æ–°è§†å›¾))
        const App = {
            // å“åº”å¼æ•°æ® æ•°æ®å±æ€§
            data() {
                return {
                    answer: "",
                    myMsg: "",
                    msg: "",
                    title: 'ğŸ¥’',
                    htmlStr: '<h3>æˆ‘æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²</h3>',
                    isShow: true,
                    menus: [
                        { id: 1, name: "å¤§è…°å­" },
                        { id: 2, name: "çƒ¤éŸ­èœ" },
                        { id: 3, name: "çƒ¤ç¾Šè‚‰ä¸²" },
                        { id: 4, name: "çƒ¤é±¼è±†è…" },
                    ],
                    currentIndex: 0,
                    imgSrc: 'https://img1.baidu.com/it/u=2927774830,1002917207&fm=253&fmt=auto&app=138&f=JPEG?w=290&h=290',
                    numbers: [1, 2, 3, 4, 5],
                    firstName: "é©¬",
                    lastName: 'Mr'
                }
            },
            methods: {
                handleUpdateName() {
                    this.firstName = 'åˆ˜'
                },
                handleInput(e) {
                    this.msg = e.target.value
                },
                handleClick() {
                    this.isShow = !this.isShow
                },
                changeActive(index) {
                    this.currentIndex = index
                },
                getAnswer() {
                    this.answer = 'Loading'
                    setTimeout(() => {
                        this.answer = Math.random() > 0.5 ? 'âœ”ï¸' : 'â'
                    }, 800)
                }
            },
            computed: {
                filterMenus() {
                    return this.menus.filter(item => item.id !== 1)
                },
                evenNumbers() {
                    return this.numbers.filter(num => num % 2 === 0)
                },
                fullName() {
                    return this.lastName + ' ' + this.firstName
                },
                reverseHtmlStr() {
                    return this.htmlStr.split('').reverse().join('')
                }

            },
            watch: {
                myMsg: function (newV, oldV) {
                    console.log(newV)
                    if (newV.indexOf('.') > -1) {
                        this.getAnswer()
                    } else if (newV === '') {
                        this.answer = ''
                    }
                }
            },
        }
        const app = Vue.createApp(App)
        console.log(app)
        app.directive('focus', {
            // å½“è¢«ç»‘å®šçš„å…ƒç´ æŒ‚è½½åˆ° DOM ä¸­æ—¶â€¦â€¦
            mounted(el) {
                // èšç„¦å…ƒç´ 
                console.log(el)
                el.focus()
            }
        })
        app.mount('#app')
    </script>
</body>

</html>